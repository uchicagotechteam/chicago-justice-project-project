<!DOCTYPE html>
<html lang='en'>
  <head>
    <title>Searchable Map Template Demo</title>
    <meta charset='utf-8' />
    <script src="http://d3js.org/d3.v4.min.js" charset="utf-8"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta content='' name='description' />
    <meta content='' name='author' />
    <!-- Styles -->
    <link rel="stylesheet" href="css/bootstrap.min.css"/>
    <link rel="stylesheet" href="css/custom.css"/>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script type="text/javascript" src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <script src="jquery.js"></script>
    <script>
    $(function(){
      $("#includedContent").load("iframe_test.html");
      $("#includedContent2").load("map_insert_test.html");
    });
    </script>
  </head>
  <body>
    <div class='navbar navbar-default navbar-static-top'>
      <div class='container-fluid'>
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class='navbar-brand' href='index.html'>Crime Reporting Discrepancy</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right">
            <li class='active'><a href="index.html">Map</a></li>
            <li><a href="about.html">About</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>
    <div class='container-fluid'>
      <div class='row'>
        <div class='col-md-4'>
          <p>Chicago's news organizations report on the crime that takes place there, but the news reporting doesn't always accurately represent crime rate. See how their reporting compares to the actual crime distribution in the maps below.
          DISCLAIMER: This is very much a work in progress at this point.</p>

          <div class='well'>
            <h4>
              Address <small>(<a id='find_me' href='#'>find me</a>)</small>
            </h4>
            <p>
              <input class='form-control' id='search_address' placeholder='Enter an address or an intersection' type='text' />
            </p>
            <p>
              <label>
                within
                <select id='search_radius'>
                  <option value='400'>2 blocks</option>
                  <option value='805'>1/2 mile</option>
                  <option value='1610'>1 mile</option>
                  <option value='3220'>2 miles</option>
                </select>
              </label>
            </p>

            <br />
            <h4>Domestic or Not</h4>
            <ul class='inputs-list unstyled'>
              <li>
                <label class='checkbox inline'>
                  <input type='checkbox' id='domestic-assault' />
                  <span class='filter-box filter-red'></span>
                  Domestic Assault
                </label>
              </li>
              <li>
                <label class='checkbox inline'>
                  <input type='checkbox' id='non-domestic-assault' />
                  <span class='filter-box filter-purple'></span>
                  Non-domestic Assault
                </label>
              </li>
            </ul>

            <br />
            <a class='btn btn-primary' id='search' href='#'>
              <i class='glyphicon glyphicon-search'></i>
              Search
            </a>
            <a class='btn btn-default' id='reset' href='#'>
              <i class='glyphicon glyphicon-repeat'></i>
              Reset
            </a>
          </div>
          <div class='alert alert-info' id='result_box' ><strong id='result_count'></strong></div>
        </div>
        <div class='col-md-8'>
          <noscript>
            <div class='alert alert-info'>
              <h4>Your JavaScript is disabled</h4>
              <p>Please enable JavaScript to view the map.</p>
            </div>
          </noscript>


          <!-----------------------------TEST-------------------------------------------- -->
          <!-- <iframe scrolling="no" width="360" height= "690" src="../Copy-of-tutorial-Map-Chicago.html" style="border:none; " ></iframe>
          <iframe scrolling="no" width="360" height= "690" src="../Copy-of-tutorial-Map-Chicago.html" style="border:none; " ></iframe> -->
          <!----------------------------TEST--------------------------------------------- -->

          <div id='map_canvas'></div>
          <p class='pull-right'>
            <a href='http://derekeder.com/searchable_map_template/'>Searchable Map Template</a> by <a href='http://derekeder.com'>Derek Eder</a>.
          </p>
        </div>
      </div>
      <!-----------------------------TEST new bs row-------------------------------------------- -->
      <div class = "row">
        <div class='col-md-4'>

          <div class="well">
            <p>Sample well</p>
          </div>
        </div>
        <div class="col-md-4">
          <iframe id="scaled-frame" scrolling ="no" src="../Copy-of-tutorial-Map-Chicago.html"></iframe>
        </div>
        <div class="col-md-4">
          <iframe id="scaled-frame" scrolling = "no" src="../Copy-of-tutorial-Map-Chicago.html"></iframe>
        </div>

        <!-- <div class="col-md-8">
          <div id='map_canvas2'></div>
          <div id="wrapper">
            <iframe id="scaled-frame" scrolling = "no" src="../Copy-of-tutorial-Map-Chicago.html"></iframe>
            <iframe id="scaled-frame" scrolling = "no" src="../Copy-of-tutorial-Map-Chicago.html"></iframe>
          </div>
        </div> -->

      </div>
      <!-----------------------------TEST-------------------------------------------- -->
    </div>

    <script type="text/javascript" src="js/jquery-1.12.4.min.js"></script>
    <script type="text/javascript" src="js/jquery.address.js"></script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://maps.google.com/maps/api/js?libraries=places&key=AIzaSyAR5eeFETe-sMigouZtPABzHpyA02MGyjQ"></script>
    <script type="text/javascript" src="js/maps_lib.js"></script>
    <script type='text/javascript'>
      //<![CDATA[
        $(window).resize(function () {
          var h = $(window).height(),
            offsetTop = 105; // Calculate the top offset

          $('#map_canvas').css('height', (h - offsetTop));
          $('#map_canvas2').css('height', (h - offsetTop));
        }).resize();

        $(function() {
          var myMap = new MapsLib({
            fusionTableId:      "1jcd8_Ob6tafgSWveZ-DtlPFuaJrSd2za_irffzqW",
            googleApiKey:      	"AIzaSyBDa89U1M7YjcUKj_1KxfDNWc76-jnabmo",
            locationColumn:     "Location",
            map_center:         [41.8781136, -87.66677856445312],
            locationScope:      "chicago"
          });

          var autocomplete = new google.maps.places.Autocomplete(document.getElementById('search_address'));

          $(':checkbox').click(function(){
            myMap.doSearch();
          });

          $(':radio').click(function(){
            myMap.doSearch();
          });

          $('#search_radius').change(function(){
            myMap.doSearch();
          });

          $('#search').click(function(){
            myMap.doSearch();
          });

          $('#find_me').click(function(){
            myMap.findMe();
            return false;
          });

          $('#reset').click(function(){
            myMap.reset();
            return false;
          });

          $(":text").keydown(function(e){
              var key =  e.keyCode ? e.keyCode : e.which;
              if(key === 13) {
                  $('#search').click();
                  return false;
              }
          });
        });
      //]]>
    </script>
  </body>
</html>
